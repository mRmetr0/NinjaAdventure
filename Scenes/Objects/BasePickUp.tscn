[gd_scene load_steps=4 format=3 uid="uid://c6tsu7lvspmtv"]

[ext_resource type="Texture2D" uid="uid://br4gqh0aaj3cc" path="res://Assets/Items/Weapons/Club/Sprite.png" id="2_c72xj"]

[sub_resource type="GDScript" id="GDScript_4foy5"]
resource_name = "PickUpScript"
script/source = "extends Area2D

@export var resource : Resource
@export var use_on_touch = false

@onready var sprite = get_node(\"Sprite2D\")

func _ready():
	sprite.texture = resource.icon

func _on_body_entered(body):
	if body.name != \"Player\":
		return
	
	var player = body as Player
	
	if resource is WeaponResource:
		player._set_weapon(resource)
	elif resource is ItemResource:
		if use_on_touch:
			resource._use_item(player)
		else:
			player._set_item(resource)
		
	queue_free()
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tpa3s"]
size = Vector2(10, 10)

[node name="PickUp" type="Area2D"]
collision_layer = 0
collision_mask = 2
script = SubResource("GDScript_4foy5")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_tpa3s")

[node name="Sprite2D" type="Sprite2D" parent="."]
y_sort_enabled = true
texture = ExtResource("2_c72xj")

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
